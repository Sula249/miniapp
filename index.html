<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script async src="https://cse.google.com/cse.js?cx=e58c2408882ae476e"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="header">
        <div class="user-info">
            <div class="user-photo" id="userPhoto"></div>
            <h1>Mini App!</h1>
        </div>
    </div>


<script>
    let isPlaying = false;
    const radio = document.getElementById('radio');
    const playButton = document.querySelector('.play-button');
    const stationList = document.getElementById('stationList');
    const stations = document.querySelectorAll('.station');
    const nowPlaying = document.getElementById('nowPlaying');

    function toggleRadio() {
        if (!radio.src) {
            radio.src = stations[0].dataset.url;
            radio.load();
        }
        if (isPlaying) {
            radio.pause();
            playButton.textContent = '▶️';
        } else {
            radio.play().then(() => {
                playButton.textContent = '⏸';
            }).catch(error => {
                console.error('Ошибка воспроизведения:', error);
                alert('Ошибка воспроизведения. Попробуйте другую станцию.');
            });
        }
        isPlaying = !isPlaying;
    }

    function toggleStationList() {
        stationList.style.display = (stationList.style.display === 'block') ? 'none' : 'block';
    }

    stations.forEach(station => {
        station.addEventListener('click', function () {
            stations.forEach(s => s.classList.remove('active'));
            this.classList.add('active');
            radio.src = this.dataset.url;
            radio.load();
            nowPlaying.textContent = this.textContent;
            if (isPlaying) {
                radio.play().catch(error => console.error('Ошибка воспроизведения:', error));
            }
        });
    });
</script>



    
    <div class="button-container">
        <button id="searchButton">Начать поиск</button>
    </div>

    <!-- Всплывающий блок для Поиска -->
    <div class="input-container" id="searchContainer">
        <form id="search-form">
            <input type="text" id="searchInput" placeholder="Введите запрос...">
            <button type="submit" id="searchActionButton">Поиск</button>
        </form>
        <div class="gcse-searchresults-only" id="results"></div>
    </div>

    <!-- Всплывающий блок для Вопроса -->
    <div class="input-container" id="questionContainer">
        <form id="question-form">
            <input type="text" id="questionInput" placeholder="Введите вопрос...">
            <button type="submit" id="questionActionButton">Задать</button>
        </form>
        <div class="results-container" id="aiAnswer"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
