<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linkee iBot | –ü–æ–∏—Å–∫ –≤ Telegram</title>
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–µ–ª–æ–≥–æ —Ñ–æ–Ω–∞ –∏ —Ñ–æ—Ä–º—ã –ø–æ–∏—Å–∫–∞ */
        body {
            background-color: white; /* –ë–µ–ª—ã–π —Ñ–æ–Ω */
            font-family: Arial, sans-serif; /* –®—Ä–∏—Ñ—Ç */
            margin: 0; /* –£–±–∏—Ä–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã */
            padding: 10px; /* –û—Ç—Å—Ç—É–ø—ã –≤–æ–∫—Ä—É–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        }

        #radiobells_container {
            margin-bottom: 50px; /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —Ä–∞–¥–∏–æ –∏ —Ñ–æ—Ä–º–æ–π –ø–æ–∏—Å–∫–∞ */
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
        }

        #search-form {
            display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flexbox –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
            justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã */
            margin-bottom: 0px; /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É —Ñ–æ—Ä–º–æ–π –ø–æ–∏—Å–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ */
        }

        #query {
            flex: 1; /* –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
            padding: 15px; /* –û—Ç—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª—è –≤–≤–æ–¥–∞ */
            border: 1px solid #ccc; /* –†–∞–º–∫–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞ */
            border-radius: 5px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            margin-right: 5px; /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –ø–æ–ª–µ–º –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–æ–π */
        }

        button {
            padding: 10px 15px; /* –û—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ */
            border: none; /* –£–±–∏—Ä–∞–µ–º —Ä–∞–º–∫—É */
            border-radius: 5px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            background-color: #4682B4; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–Ω–æ–ø–∫–∏ */
            color: white; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏ */
            cursor: pointer; /* –£–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        button:hover {
            background-color: #e03e00; /* –¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        h1 {
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            margin-bottom: 40px; /* –û—Ç—Å—Ç—É–ø –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º */
            color: #696969;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ */
        #results {
            margin-top: 0px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */
        }

        #radiobells_container {
            background-color: #4682B4; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ */
            padding: 5px; /* –û—Ç—Å—Ç—É–ø—ã */
            border-radius: 5px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            text-align: center; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–¥–µ–æ –∏ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ */
        .video-container {
            margin-top: 0px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ */
        }

        .video-container video {
            width: 100%; /* –®–∏—Ä–∏–Ω–∞ –≤–∏–¥–µ–æ */
            max-width: 600px; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –≤–∏–¥–µ–æ */
            height: auto; /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã—Å–æ—Ç–∞ */
            border: 1px solid #ccc; /* –†–∞–º–∫–∞ –≤–∏–¥–µ–æ */
            border-radius: 5px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
        }

        .video-container a {
            display: block;
            width: 100%;
            max-width: 600px;
            margin: 7px auto;
            padding: 15px 0;
            background-color: #4682B4;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;

        }
        
        .video-container a:hover {
            background-color: #e03e00; /* –¶–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
    </style>
    <!-- –í—Å—Ç–∞–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç –¥–ª—è Google Custom Search Engine -->
    <script async src="https://cse.google.com/cse.js?cx=e58c2408882ae476e"></script>
</head>
<body>
    
    
    <h1>Linkee iBot | –ü–æ–∏—Å–∫</h1>

    <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
    <form id="search-form">
        <input type="text" id="query" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞" required>
        <button type="submit"> üîé –ü–æ–∏—Å–∫ </button>
    </form>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ -->
    <div class="gcse-searchresults-only" id="results"></div>


    <script>
        const searchForm = document.getElementById('search-form');
        const queryInput = document.getElementById('query');

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        searchForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const query = queryInput.value;
            if (!query) return;

            // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –≤ Google –¢–∞–±–ª–∏—Ü—ã
            logQueryToGoogleSheets(query);

            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ Google CSE
            const searchElement = document.querySelector('input.gsc-input');
            searchElement.value = query;
            document.querySelector('button.gsc-search-button').click();
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Google –¢–∞–±–ª–∏—Ü—ã
        async function logQueryToGoogleSheets(query) {
            const scriptUrl = 'https://script.google.com/macros/s/AKfycbypBtYb0Y8XiGYlEpRyzJq_yqCrE5ieiFwXT92MPsSF29EIFQLmOcp0gZZXasgQb3S9/exec'; // URL –≤–∞—à–µ–≥–æ Google Apps Script

            try {
                await fetch(scriptUrl, {
                    method: 'POST',
                    mode: 'no-cors', // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ CORS –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Apps Script
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query: query })
                });
            } catch (error) {
                console.error('Error logging query to Google Sheets:', error);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Å—ã–ª–æ–∫ –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ
        function openLinksInNewTab() {
            const searchResults = document.getElementById('results');

            // –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ DOM
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.addedNodes.length > 0) {
                        // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —Å—Å—ã–ª–∫–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ–º target="_blank"
                        const links = searchResults.querySelectorAll('a');
                        links.forEach(link => {
                            link.setAttribute('target', '_blank');
                        });
                    }
                });
            });

            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ #results
            observer.observe(searchResults, { childList: true, subtree: true });
        }

        // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            openLinksInNewTab();
        };
    </script>

</body>
</html>
